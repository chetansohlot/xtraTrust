{% extends 'master.html' %}
{% load static %}
{% block title %}
  Login
{% endblock %}

{% block content %}
  <body class="hold-transition sidebar-mini layout-fixed">
    <section class="container-fluid">
      <div class="row justify-content-between">
        <div class="col-sm-12 col-md-6 col-xl-5 pr-md-0">
          <div class="login-leftside">
            <div>
              <img src="{% static 'dist/img/logo.png' %}" alt="" class="login-leftside-logo" />
              <h2 class="admin-login-hding">Welcome Back</h2>
              <p class="login-lftac">Please login to your account</p>
              <form action="{% url "login" %}" method="post" class="mt-4 pt-2" autocomplete="off">
                {% csrf_token %}

                <div class="text-center">
                    <h5>Login Via</h5>
                    <div class="col-sm-12">
                        <div class="row admin-login-field">
                            <div class="col-sm-6">
                                <label class="admin-login-lbl">Email</label>
                                <input type="radio" name="login_via" checked id="login_via_email" value="1">
                            </div>
                            <!-- <div class="col-sm-6">
                                <label class="admin-login-lbl">Mobile</label>
                                <input type="radio" name="login_via" id="login_via_mobile" value="2">
                            </div> -->
                        </div>
                    </div>
                </div>
                <div class="row">
                  <div class="col-sm-12">
                    <div id="email_divs">
                        <label class="admin-login-lbl">Email Address</label>
                        <div class="form-group posrel">
                            <input type="text" name="email" class="admin-login-field email" placeholder="Email" />
                            <span class="error email_err"></span>
                        </div>
                    </div>
                    {% comment %} <div id="mobile_div">
                        <label class="admin-login-lbl">Mobile Number</label>
                        <div class="form-group posrel">
                            <input type="text" name="mobile" class="admin-login-field mobile" maxlength="10" placeholder="Mobile Number" />
                            <span class="error mobile_err"></span>
                        </div>
                    </div> {% endcomment %}
                    <div id="password_divs">
                        <label class="admin-login-lbl">Password</label>
                        <div class="form-group posrel">
                          <input type="password" name="password" class="admin-login-field" placeholder="Enter password" id="login_password_id" autocomplete="off"/>
                          <span class="inputicon-right showhide-password" onclick="seePassword()"><i class="fas fa-eye"></i></span>
                          <span class="error password_err"></span>
                        </div>
                    </div>
                  </div>
                  <div class="col-12 col-sm-6">
                    <input type="checkbox" name="rememberme" id="rememberme" class="rememberme" />
                    <label for="rememberme">Remember me</label>
                  </div>
                  <div class="col-12 col-sm-6">
                    <a href="#" class="forgotxt text-right">Forgot Password?</a>
                  </div>

                  <div class="col-sm-12">
                    <button type="submit" class="admin-login-btn w-100 mt-4">Sign in</button>
                  </div>
                </div>
              </form>
              <div class="col-sm-12 text-center mt-3">
                  <p>Don't have an account? <a href="{% url 'register' %}" class="text-primary">Register here</a></p>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-12 col-md-6 pl-md-0 d-none d-md-block">
          <div class="login-rightside">
            <span class="login-right-circlbg"></span>
            <div class="login-ritetxt-area">
              <h1 class="admin-lr-hding">Welcome to NetInsurancePro</h1>
              <p class="admin-lr-prgh">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
            </div>
            <span class="login-rightbot-circlbg"></span>
          </div>
        </div>
      </div>
    </section>
    <p class="admin-powered-by">
      Powered by <a href="#">Netleaf Software</a>
    </p>
    
    {% include "footer-script.html" %}

    <script type="text/javascript">
        function seePassword() {
          var passwordInput = document.getElementById('login_password_id')
          if (passwordInput.type === 'password') {
            passwordInput.type = 'text'
          } else {
            passwordInput.type = 'password'
          }
        }
        $('.showhide-password').click(function () {
          $('.showhide-password i').toggleClass('fa-eye fa-eye-slash')
        })

        $("input[name='login_via']").on("click", function() {
            var login_via = $(this).val();
        
            if (login_via == 1) {
                $('#email_div').show();
                $('#mobile_div').hide();
                $('#password_div').show();
            } else if (login_via == 2) {
                $('#email_div').hide();
                $('#mobile_div').show();
                $('#password_div').show();
            } else {
                $('#email_div, #mobile_div, #password_div').hide();
            }
        });
        
    </script>
  </body>
{% endblock %}
